   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,6
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "pal_os_datastore.c"
  16              	 .text
  17              	.Ltext0:
  18              	 .cfi_sections .debug_frame
  19              	 .comm data_store_manage_context_buffer,68,4
  20              	 .comm data_store_app_context_buffer,10,4
  21              	 .global optiga_platform_binding_shared_secret
  22              	 .section .data.optiga_platform_binding_shared_secret,"aw",%progbits
  23              	 .align 2
  26              	optiga_platform_binding_shared_secret:
  27 0000 00       	 .byte 0
  28 0001 40       	 .byte 64
  29 0002 01       	 .byte 1
  30 0003 02       	 .byte 2
  31 0004 03       	 .byte 3
  32 0005 04       	 .byte 4
  33 0006 05       	 .byte 5
  34 0007 06       	 .byte 6
  35 0008 07       	 .byte 7
  36 0009 08       	 .byte 8
  37 000a 09       	 .byte 9
  38 000b 0A       	 .byte 10
  39 000c 0B       	 .byte 11
  40 000d 0C       	 .byte 12
  41 000e 0D       	 .byte 13
  42 000f 0E       	 .byte 14
  43 0010 0F       	 .byte 15
  44 0011 10       	 .byte 16
  45 0012 11       	 .byte 17
  46 0013 12       	 .byte 18
  47 0014 13       	 .byte 19
  48 0015 14       	 .byte 20
  49 0016 15       	 .byte 21
  50 0017 16       	 .byte 22
  51 0018 17       	 .byte 23
  52 0019 18       	 .byte 24
  53 001a 19       	 .byte 25
  54 001b 1A       	 .byte 26
  55 001c 1B       	 .byte 27
  56 001d 1C       	 .byte 28
  57 001e 1D       	 .byte 29
  58 001f 1E       	 .byte 30
  59 0020 1F       	 .byte 31
  60 0021 20       	 .byte 32
  61 0022 21       	 .byte 33
  62 0023 22       	 .byte 34
  63 0024 23       	 .byte 35
  64 0025 24       	 .byte 36
  65 0026 25       	 .byte 37
  66 0027 26       	 .byte 38
  67 0028 27       	 .byte 39
  68 0029 28       	 .byte 40
  69 002a 29       	 .byte 41
  70 002b 2A       	 .byte 42
  71 002c 2B       	 .byte 43
  72 002d 2C       	 .byte 44
  73 002e 2D       	 .byte 45
  74 002f 2E       	 .byte 46
  75 0030 2F       	 .byte 47
  76 0031 30       	 .byte 48
  77 0032 31       	 .byte 49
  78 0033 32       	 .byte 50
  79 0034 33       	 .byte 51
  80 0035 34       	 .byte 52
  81 0036 35       	 .byte 53
  82 0037 36       	 .byte 54
  83 0038 37       	 .byte 55
  84 0039 38       	 .byte 56
  85 003a 39       	 .byte 57
  86 003b 3A       	 .byte 58
  87 003c 3B       	 .byte 59
  88 003d 3C       	 .byte 60
  89 003e 3D       	 .byte 61
  90 003f 3E       	 .byte 62
  91 0040 3F       	 .byte 63
  92 0041 40       	 .byte 64
  93 0042 0000     	 .section .text.pal_os_datastore_write,"ax",%progbits
  94              	 .align 2
  95              	 .global pal_os_datastore_write
  96              	 .thumb
  97              	 .thumb_func
  99              	pal_os_datastore_write:
 100              	.LFB0:
 101              	 .file 1 "C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700/pal_os_datastore.c"
   1:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** /**
   2:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * \copyright
   3:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * MIT License
   4:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
   5:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * Copyright (c) 2020 Infineon Technologies AG
   6:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
   7:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * Permission is hereby granted, free of charge, to any person obtaining a copy
   8:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * of this software and associated documentation files (the "Software"), to deal
   9:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * in the Software without restriction, including without limitation the rights
  10:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  11:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * copies of the Software, and to permit persons to whom the Software is
  12:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * furnished to do so, subject to the following conditions:
  13:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
  14:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * The above copyright notice and this permission notice shall be included in all
  15:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * copies or substantial portions of the Software.
  16:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
  17:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  18:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  19:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  20:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  21:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  22:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  23:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * SOFTWARE
  24:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
  25:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * \endcopyright
  26:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
  27:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * \author Infineon Technologies AG
  28:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
  29:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * \file pal_os_datastore.c
  30:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
  31:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * \brief   This file implements the platform abstraction layer APIs for data store.
  32:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
  33:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * \ingroup  grPAL
  34:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** *
  35:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** * @{
  36:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** */
  37:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
  38:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** #include "optiga/pal/pal_os_datastore.h"
  39:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** /// @cond hidden
  40:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
  41:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** /// Size of length field 
  42:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** #define LENGTH_SIZE                (0x02)
  43:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** /// Size of data store buffer to hold the shielded connection manage context information (2 bytes l
  44:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** #define MANAGE_CONTEXT_BUFFER_SIZE      (0x42)
  45:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
  46:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** //Internal buffer to store the shielded connection manage context information (length field + Data)
  47:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** uint8_t data_store_manage_context_buffer [LENGTH_SIZE + MANAGE_CONTEXT_BUFFER_SIZE];
  48:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
  49:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** //Internal buffer to store the optiga application context data during hibernate(length field + Data
  50:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** uint8_t data_store_app_context_buffer [LENGTH_SIZE + APP_CONTEXT_SIZE];
  51:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
  52:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** //Internal buffer to store the generated platform binding shared secret on Host (length field + sha
  53:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** uint8_t optiga_platform_binding_shared_secret [LENGTH_SIZE + OPTIGA_SHARED_SECRET_MAX_LENGTH] = 
  54:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** {
  55:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     // Length of the shared secret, followed after the length information
  56:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     0x00 ,0x40, 
  57:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     // Shared secret. Buffer is defined to the maximum supported length [64 bytes]. 
  58:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     // But the actual size used is to be specified in the length field.
  59:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     0x01 ,0x02 ,0x03 ,0x04 ,0x05 ,0x06 ,0x07 ,0x08 ,0x09 ,0x0A ,0x0B ,0x0C ,0x0D ,0x0E ,0x0F ,0x10,
  60:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     0x11 ,0x12 ,0x13 ,0x14 ,0x15 ,0x16 ,0x17 ,0x18 ,0x19 ,0x1A ,0x1B ,0x1C ,0x1D ,0x1E ,0x1F ,0x20,
  61:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     0x21 ,0x22 ,0x23 ,0x24 ,0x25 ,0x26 ,0x27 ,0x28 ,0x29 ,0x2A ,0x2B ,0x2C ,0x2D ,0x2E ,0x2F ,0x30,
  62:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     0x31 ,0x32 ,0x33 ,0x34 ,0x35 ,0x36 ,0x37 ,0x38 ,0x39 ,0x3A ,0x3B ,0x3C ,0x3D ,0x3E ,0x3F ,0x40
  63:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** };
  64:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
  65:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
  66:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** pal_status_t pal_os_datastore_write(uint16_t datastore_id,
  67:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                                     const uint8_t * p_buffer,
  68:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                                     uint16_t length)
  69:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** {
 102              	 .loc 1 69 0
 103              	 .cfi_startproc
 104              	 
 105              	 
 106 0000 80B5     	 push {r7,lr}
 107              	.LCFI0:
 108              	 .cfi_def_cfa_offset 8
 109              	 .cfi_offset 7,-8
 110              	 .cfi_offset 14,-4
 111 0002 84B0     	 sub sp,sp,#16
 112              	.LCFI1:
 113              	 .cfi_def_cfa_offset 24
 114 0004 00AF     	 add r7,sp,#0
 115              	.LCFI2:
 116              	 .cfi_def_cfa_register 7
 117 0006 0346     	 mov r3,r0
 118 0008 3960     	 str r1,[r7]
 119 000a FB80     	 strh r3,[r7,#6]
 120 000c 1346     	 mov r3,r2
 121 000e BB80     	 strh r3,[r7,#4]
  70:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     pal_status_t return_status = PAL_STATUS_FAILURE;
 122              	 .loc 1 70 0
 123 0010 0123     	 movs r3,#1
 124 0012 FB81     	 strh r3,[r7,#14]
  71:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     uint8_t offset = 0;
 125              	 .loc 1 71 0
 126 0014 0023     	 movs r3,#0
 127 0016 7B73     	 strb r3,[r7,#13]
  72:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
  73:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     switch(datastore_id)
 128              	 .loc 1 73 0
 129 0018 FB88     	 ldrh r3,[r7,#6]
 130 001a 222B     	 cmp r3,#34
 131 001c 26D0     	 beq .L3
 132 001e 332B     	 cmp r3,#51
 133 0020 42D0     	 beq .L4
 134 0022 112B     	 cmp r3,#17
 135 0024 00D0     	 beq .L5
  74:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     {
  75:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         case OPTIGA_PLATFORM_BINDING_SHARED_SECRET_ID:
  76:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         {
  77:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // !!!OPTIGA_LIB_PORTING_REQUIRED
  78:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // This has to be enhanced by user only, in case of updating
  79:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // the platform binding shared secret during the runtime into NVM.
  80:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // In current implementation, platform binding shared secret is 
  81:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // stored in RAM.
  82:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             if (length <= OPTIGA_SHARED_SECRET_MAX_LENGTH)
  83:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             {
  84:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 optiga_platform_binding_shared_secret[offset++] = (uint8_t)(length>>8);
  85:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 optiga_platform_binding_shared_secret[offset++] = (uint8_t)(length);
  86:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 memcpy(&optiga_platform_binding_shared_secret[offset], p_buffer, length);
  87:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 return_status = PAL_STATUS_SUCCESS;
  88:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             }
  89:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
  90:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
  91:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         case OPTIGA_COMMS_MANAGE_CONTEXT_ID:
  92:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         {
  93:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // !!!OPTIGA_LIB_PORTING_REQUIRED
  94:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // This has to be enhanced by user only, in case of storing 
  95:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // the manage context information in non-volatile memory 
  96:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // to reuse for later during hard reset scenarios where the 
  97:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // RAM gets flushed out.
  98:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_store_manage_context_buffer[offset++] = (uint8_t)(length>>8);
  99:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_store_manage_context_buffer[offset++] = (uint8_t)(length);
 100:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             memcpy(&data_store_manage_context_buffer[offset],p_buffer,length);
 101:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             return_status = PAL_STATUS_SUCCESS;
 102:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 103:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 104:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         case OPTIGA_HIBERNATE_CONTEXT_ID:
 105:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         {
 106:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // !!!OPTIGA_LIB_PORTING_REQUIRED
 107:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // This has to be enhanced by user only, in case of storing 
 108:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // the application context information in non-volatile memory 
 109:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // to reuse for later during hard reset scenarios where the 
 110:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // RAM gets flushed out.
 111:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_store_app_context_buffer[offset++] = (uint8_t)(length>>8);
 112:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_store_app_context_buffer[offset++] = (uint8_t)(length);
 113:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             memcpy(&data_store_app_context_buffer[offset],p_buffer,length);
 114:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             return_status = PAL_STATUS_SUCCESS;
 115:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 116:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 117:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         default:
 118:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         {
 119:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 136              	 .loc 1 119 0
 137 0026 5DE0     	 b .L7
 138              	.L5:
  82:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             {
 139              	 .loc 1 82 0
 140 0028 BB88     	 ldrh r3,[r7,#4]
 141 002a 402B     	 cmp r3,#64
 142 002c 1DD8     	 bhi .L6
  84:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 optiga_platform_binding_shared_secret[offset++] = (uint8_t)(length);
 143              	 .loc 1 84 0
 144 002e 7B7B     	 ldrb r3,[r7,#13]
 145 0030 5A1C     	 adds r2,r3,#1
 146 0032 7A73     	 strb r2,[r7,#13]
 147 0034 1A46     	 mov r2,r3
 148 0036 BB88     	 ldrh r3,[r7,#4]
 149 0038 1B0A     	 lsrs r3,r3,#8
 150 003a 9BB2     	 uxth r3,r3
 151 003c D9B2     	 uxtb r1,r3
 152 003e 2C4B     	 ldr r3,.L9
 153 0040 9954     	 strb r1,[r3,r2]
  85:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 memcpy(&optiga_platform_binding_shared_secret[offset], p_buffer, length);
 154              	 .loc 1 85 0
 155 0042 7B7B     	 ldrb r3,[r7,#13]
 156 0044 5A1C     	 adds r2,r3,#1
 157 0046 7A73     	 strb r2,[r7,#13]
 158 0048 1A46     	 mov r2,r3
 159 004a BB88     	 ldrh r3,[r7,#4]
 160 004c D9B2     	 uxtb r1,r3
 161 004e 284B     	 ldr r3,.L9
 162 0050 9954     	 strb r1,[r3,r2]
  86:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 return_status = PAL_STATUS_SUCCESS;
 163              	 .loc 1 86 0
 164 0052 7B7B     	 ldrb r3,[r7,#13]
 165 0054 264A     	 ldr r2,.L9
 166 0056 1A44     	 add r2,r2,r3
 167 0058 BB88     	 ldrh r3,[r7,#4]
 168 005a 1046     	 mov r0,r2
 169 005c 3968     	 ldr r1,[r7]
 170 005e 1A46     	 mov r2,r3
 171 0060 FFF7FEFF 	 bl memcpy
  87:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             }
 172              	 .loc 1 87 0
 173 0064 0023     	 movs r3,#0
 174 0066 FB81     	 strh r3,[r7,#14]
  89:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 175              	 .loc 1 89 0
 176 0068 3CE0     	 b .L7
 177              	.L6:
 178 006a 3BE0     	 b .L7
 179              	.L3:
  98:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_store_manage_context_buffer[offset++] = (uint8_t)(length);
 180              	 .loc 1 98 0
 181 006c 7B7B     	 ldrb r3,[r7,#13]
 182 006e 5A1C     	 adds r2,r3,#1
 183 0070 7A73     	 strb r2,[r7,#13]
 184 0072 1A46     	 mov r2,r3
 185 0074 BB88     	 ldrh r3,[r7,#4]
 186 0076 1B0A     	 lsrs r3,r3,#8
 187 0078 9BB2     	 uxth r3,r3
 188 007a D9B2     	 uxtb r1,r3
 189 007c 1D4B     	 ldr r3,.L9+4
 190 007e 9954     	 strb r1,[r3,r2]
  99:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             memcpy(&data_store_manage_context_buffer[offset],p_buffer,length);
 191              	 .loc 1 99 0
 192 0080 7B7B     	 ldrb r3,[r7,#13]
 193 0082 5A1C     	 adds r2,r3,#1
 194 0084 7A73     	 strb r2,[r7,#13]
 195 0086 1A46     	 mov r2,r3
 196 0088 BB88     	 ldrh r3,[r7,#4]
 197 008a D9B2     	 uxtb r1,r3
 198 008c 194B     	 ldr r3,.L9+4
 199 008e 9954     	 strb r1,[r3,r2]
 100:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             return_status = PAL_STATUS_SUCCESS;
 200              	 .loc 1 100 0
 201 0090 7B7B     	 ldrb r3,[r7,#13]
 202 0092 184A     	 ldr r2,.L9+4
 203 0094 1A44     	 add r2,r2,r3
 204 0096 BB88     	 ldrh r3,[r7,#4]
 205 0098 1046     	 mov r0,r2
 206 009a 3968     	 ldr r1,[r7]
 207 009c 1A46     	 mov r2,r3
 208 009e FFF7FEFF 	 bl memcpy
 101:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 209              	 .loc 1 101 0
 210 00a2 0023     	 movs r3,#0
 211 00a4 FB81     	 strh r3,[r7,#14]
 102:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 212              	 .loc 1 102 0
 213 00a6 1DE0     	 b .L7
 214              	.L4:
 111:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_store_app_context_buffer[offset++] = (uint8_t)(length);
 215              	 .loc 1 111 0
 216 00a8 7B7B     	 ldrb r3,[r7,#13]
 217 00aa 5A1C     	 adds r2,r3,#1
 218 00ac 7A73     	 strb r2,[r7,#13]
 219 00ae 1A46     	 mov r2,r3
 220 00b0 BB88     	 ldrh r3,[r7,#4]
 221 00b2 1B0A     	 lsrs r3,r3,#8
 222 00b4 9BB2     	 uxth r3,r3
 223 00b6 D9B2     	 uxtb r1,r3
 224 00b8 0F4B     	 ldr r3,.L9+8
 225 00ba 9954     	 strb r1,[r3,r2]
 112:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             memcpy(&data_store_app_context_buffer[offset],p_buffer,length);
 226              	 .loc 1 112 0
 227 00bc 7B7B     	 ldrb r3,[r7,#13]
 228 00be 5A1C     	 adds r2,r3,#1
 229 00c0 7A73     	 strb r2,[r7,#13]
 230 00c2 1A46     	 mov r2,r3
 231 00c4 BB88     	 ldrh r3,[r7,#4]
 232 00c6 D9B2     	 uxtb r1,r3
 233 00c8 0B4B     	 ldr r3,.L9+8
 234 00ca 9954     	 strb r1,[r3,r2]
 113:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             return_status = PAL_STATUS_SUCCESS;
 235              	 .loc 1 113 0
 236 00cc 7B7B     	 ldrb r3,[r7,#13]
 237 00ce 0A4A     	 ldr r2,.L9+8
 238 00d0 1A44     	 add r2,r2,r3
 239 00d2 BB88     	 ldrh r3,[r7,#4]
 240 00d4 1046     	 mov r0,r2
 241 00d6 3968     	 ldr r1,[r7]
 242 00d8 1A46     	 mov r2,r3
 243 00da FFF7FEFF 	 bl memcpy
 114:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 244              	 .loc 1 114 0
 245 00de 0023     	 movs r3,#0
 246 00e0 FB81     	 strh r3,[r7,#14]
 115:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 247              	 .loc 1 115 0
 248 00e2 00BF     	 nop
 249              	.L7:
 120:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 121:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     }
 122:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     return return_status;
 250              	 .loc 1 122 0
 251 00e4 FB89     	 ldrh r3,[r7,#14]
 123:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** }
 252              	 .loc 1 123 0
 253 00e6 1846     	 mov r0,r3
 254 00e8 1037     	 adds r7,r7,#16
 255              	.LCFI3:
 256              	 .cfi_def_cfa_offset 8
 257 00ea BD46     	 mov sp,r7
 258              	.LCFI4:
 259              	 .cfi_def_cfa_register 13
 260              	 
 261 00ec 80BD     	 pop {r7,pc}
 262              	.L10:
 263 00ee 00BF     	 .align 2
 264              	.L9:
 265 00f0 00000000 	 .word optiga_platform_binding_shared_secret
 266 00f4 00000000 	 .word data_store_manage_context_buffer
 267 00f8 00000000 	 .word data_store_app_context_buffer
 268              	 .cfi_endproc
 269              	.LFE0:
 271              	 .section .text.pal_os_datastore_read,"ax",%progbits
 272              	 .align 2
 273              	 .global pal_os_datastore_read
 274              	 .thumb
 275              	 .thumb_func
 277              	pal_os_datastore_read:
 278              	.LFB1:
 124:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
 125:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
 126:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** pal_status_t pal_os_datastore_read(uint16_t datastore_id, 
 127:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                                    uint8_t * p_buffer, 
 128:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                                    uint16_t * p_buffer_length)
 129:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** {
 279              	 .loc 1 129 0
 280              	 .cfi_startproc
 281              	 
 282              	 
 283 0000 80B5     	 push {r7,lr}
 284              	.LCFI5:
 285              	 .cfi_def_cfa_offset 8
 286              	 .cfi_offset 7,-8
 287              	 .cfi_offset 14,-4
 288 0002 86B0     	 sub sp,sp,#24
 289              	.LCFI6:
 290              	 .cfi_def_cfa_offset 32
 291 0004 00AF     	 add r7,sp,#0
 292              	.LCFI7:
 293              	 .cfi_def_cfa_register 7
 294 0006 0346     	 mov r3,r0
 295 0008 B960     	 str r1,[r7,#8]
 296 000a 7A60     	 str r2,[r7,#4]
 297 000c FB81     	 strh r3,[r7,#14]
 130:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     pal_status_t return_status = PAL_STATUS_FAILURE;
 298              	 .loc 1 130 0
 299 000e 0123     	 movs r3,#1
 300 0010 FB82     	 strh r3,[r7,#22]
 131:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     uint16_t data_length;
 132:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     uint8_t offset = 0;
 301              	 .loc 1 132 0
 302 0012 0023     	 movs r3,#0
 303 0014 7B75     	 strb r3,[r7,#21]
 133:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
 134:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     switch(datastore_id)
 304              	 .loc 1 134 0
 305 0016 FB89     	 ldrh r3,[r7,#14]
 306 0018 222B     	 cmp r3,#34
 307 001a 29D0     	 beq .L13
 308 001c 332B     	 cmp r3,#51
 309 001e 49D0     	 beq .L14
 310 0020 112B     	 cmp r3,#17
 311 0022 69D1     	 bne .L19
 135:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     {
 136:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         case OPTIGA_PLATFORM_BINDING_SHARED_SECRET_ID:
 137:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         {
 138:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // !!!OPTIGA_LIB_PORTING_REQUIRED
 139:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // This has to be enhanced by user only,
 140:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // if the platform binding shared secret is stored in non-volatile 
 141:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // memory with a specific location and not as a context segment 
 142:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // else updating the share secret content is good enough.
 143:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
 144:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_length = (uint16_t) (optiga_platform_binding_shared_secret[offset++] << 8);
 312              	 .loc 1 144 0
 313 0024 7B7D     	 ldrb r3,[r7,#21]
 314 0026 5A1C     	 adds r2,r3,#1
 315 0028 7A75     	 strb r2,[r7,#21]
 316 002a 1A46     	 mov r2,r3
 317 002c 374B     	 ldr r3,.L20
 318 002e 9B5C     	 ldrb r3,[r3,r2]
 319 0030 9BB2     	 uxth r3,r3
 320 0032 1B02     	 lsls r3,r3,#8
 321 0034 7B82     	 strh r3,[r7,#18]
 145:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_length |= (uint16_t)(optiga_platform_binding_shared_secret[offset++]);
 322              	 .loc 1 145 0
 323 0036 7B7D     	 ldrb r3,[r7,#21]
 324 0038 5A1C     	 adds r2,r3,#1
 325 003a 7A75     	 strb r2,[r7,#21]
 326 003c 1A46     	 mov r2,r3
 327 003e 334B     	 ldr r3,.L20
 328 0040 9B5C     	 ldrb r3,[r3,r2]
 329 0042 9AB2     	 uxth r2,r3
 330 0044 7B8A     	 ldrh r3,[r7,#18]
 331 0046 1343     	 orrs r3,r3,r2
 332 0048 7B82     	 strh r3,[r7,#18]
 146:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             if (data_length <= OPTIGA_SHARED_SECRET_MAX_LENGTH)
 333              	 .loc 1 146 0
 334 004a 7B8A     	 ldrh r3,[r7,#18]
 335 004c 402B     	 cmp r3,#64
 336 004e 0ED8     	 bhi .L16
 147:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             {
 148:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 memcpy(p_buffer,&optiga_platform_binding_shared_secret[offset], data_length);
 337              	 .loc 1 148 0
 338 0050 7B7D     	 ldrb r3,[r7,#21]
 339 0052 2E4A     	 ldr r2,.L20
 340 0054 1A44     	 add r2,r2,r3
 341 0056 7B8A     	 ldrh r3,[r7,#18]
 342 0058 B868     	 ldr r0,[r7,#8]
 343 005a 1146     	 mov r1,r2
 344 005c 1A46     	 mov r2,r3
 345 005e FFF7FEFF 	 bl memcpy
 149:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 *p_buffer_length = data_length;
 346              	 .loc 1 149 0
 347 0062 7B68     	 ldr r3,[r7,#4]
 348 0064 7A8A     	 ldrh r2,[r7,#18]
 349 0066 1A80     	 strh r2,[r3]
 150:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****                 return_status = PAL_STATUS_SUCCESS;
 350              	 .loc 1 150 0
 351 0068 0023     	 movs r3,#0
 352 006a FB82     	 strh r3,[r7,#22]
 151:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             }
 152:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 353              	 .loc 1 152 0
 354 006c 48E0     	 b .L17
 355              	.L16:
 356 006e 47E0     	 b .L17
 357              	.L13:
 153:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 154:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         case OPTIGA_COMMS_MANAGE_CONTEXT_ID:
 155:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         {
 156:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // !!!OPTIGA_LIB_PORTING_REQUIRED
 157:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // This has to be enhanced by user only,
 158:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // if manage context information is stored in NVM during the hibernate, 
 159:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // else this is not required to be enhanced.
 160:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_length = (uint16_t) (data_store_manage_context_buffer[offset++] << 8);
 358              	 .loc 1 160 0
 359 0070 7B7D     	 ldrb r3,[r7,#21]
 360 0072 5A1C     	 adds r2,r3,#1
 361 0074 7A75     	 strb r2,[r7,#21]
 362 0076 1A46     	 mov r2,r3
 363 0078 254B     	 ldr r3,.L20+4
 364 007a 9B5C     	 ldrb r3,[r3,r2]
 365 007c 9BB2     	 uxth r3,r3
 366 007e 1B02     	 lsls r3,r3,#8
 367 0080 7B82     	 strh r3,[r7,#18]
 161:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_length |= (uint16_t)(data_store_manage_context_buffer[offset++]);
 368              	 .loc 1 161 0
 369 0082 7B7D     	 ldrb r3,[r7,#21]
 370 0084 5A1C     	 adds r2,r3,#1
 371 0086 7A75     	 strb r2,[r7,#21]
 372 0088 1A46     	 mov r2,r3
 373 008a 214B     	 ldr r3,.L20+4
 374 008c 9B5C     	 ldrb r3,[r3,r2]
 375 008e 9AB2     	 uxth r2,r3
 376 0090 7B8A     	 ldrh r3,[r7,#18]
 377 0092 1343     	 orrs r3,r3,r2
 378 0094 7B82     	 strh r3,[r7,#18]
 162:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             memcpy(p_buffer, &data_store_manage_context_buffer[offset], data_length);
 379              	 .loc 1 162 0
 380 0096 7B7D     	 ldrb r3,[r7,#21]
 381 0098 1D4A     	 ldr r2,.L20+4
 382 009a 1A44     	 add r2,r2,r3
 383 009c 7B8A     	 ldrh r3,[r7,#18]
 384 009e B868     	 ldr r0,[r7,#8]
 385 00a0 1146     	 mov r1,r2
 386 00a2 1A46     	 mov r2,r3
 387 00a4 FFF7FEFF 	 bl memcpy
 163:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             *p_buffer_length = data_length;
 388              	 .loc 1 163 0
 389 00a8 7B68     	 ldr r3,[r7,#4]
 390 00aa 7A8A     	 ldrh r2,[r7,#18]
 391 00ac 1A80     	 strh r2,[r3]
 164:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             return_status = PAL_STATUS_SUCCESS;
 392              	 .loc 1 164 0
 393 00ae 0023     	 movs r3,#0
 394 00b0 FB82     	 strh r3,[r7,#22]
 165:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 395              	 .loc 1 165 0
 396 00b2 25E0     	 b .L17
 397              	.L14:
 166:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 167:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         case OPTIGA_HIBERNATE_CONTEXT_ID:
 168:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         {
 169:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // !!!OPTIGA_LIB_PORTING_REQUIRED
 170:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // This has to be enhanced by user only,
 171:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // if application context information is stored in NVM during the hibernate, 
 172:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             // else this is not required to be enhanced.
 173:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_length = (uint16_t) (data_store_app_context_buffer[offset++] << 8);
 398              	 .loc 1 173 0
 399 00b4 7B7D     	 ldrb r3,[r7,#21]
 400 00b6 5A1C     	 adds r2,r3,#1
 401 00b8 7A75     	 strb r2,[r7,#21]
 402 00ba 1A46     	 mov r2,r3
 403 00bc 154B     	 ldr r3,.L20+8
 404 00be 9B5C     	 ldrb r3,[r3,r2]
 405 00c0 9BB2     	 uxth r3,r3
 406 00c2 1B02     	 lsls r3,r3,#8
 407 00c4 7B82     	 strh r3,[r7,#18]
 174:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             data_length |= (uint16_t)(data_store_app_context_buffer[offset++]);
 408              	 .loc 1 174 0
 409 00c6 7B7D     	 ldrb r3,[r7,#21]
 410 00c8 5A1C     	 adds r2,r3,#1
 411 00ca 7A75     	 strb r2,[r7,#21]
 412 00cc 1A46     	 mov r2,r3
 413 00ce 114B     	 ldr r3,.L20+8
 414 00d0 9B5C     	 ldrb r3,[r3,r2]
 415 00d2 9AB2     	 uxth r2,r3
 416 00d4 7B8A     	 ldrh r3,[r7,#18]
 417 00d6 1343     	 orrs r3,r3,r2
 418 00d8 7B82     	 strh r3,[r7,#18]
 175:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             memcpy(p_buffer, &data_store_app_context_buffer[offset], data_length);
 419              	 .loc 1 175 0
 420 00da 7B7D     	 ldrb r3,[r7,#21]
 421 00dc 0D4A     	 ldr r2,.L20+8
 422 00de 1A44     	 add r2,r2,r3
 423 00e0 7B8A     	 ldrh r3,[r7,#18]
 424 00e2 B868     	 ldr r0,[r7,#8]
 425 00e4 1146     	 mov r1,r2
 426 00e6 1A46     	 mov r2,r3
 427 00e8 FFF7FEFF 	 bl memcpy
 176:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             *p_buffer_length = data_length;
 428              	 .loc 1 176 0
 429 00ec 7B68     	 ldr r3,[r7,#4]
 430 00ee 7A8A     	 ldrh r2,[r7,#18]
 431 00f0 1A80     	 strh r2,[r3]
 177:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             return_status = PAL_STATUS_SUCCESS;
 432              	 .loc 1 177 0
 433 00f2 0023     	 movs r3,#0
 434 00f4 FB82     	 strh r3,[r7,#22]
 178:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 435              	 .loc 1 178 0
 436 00f6 03E0     	 b .L17
 437              	.L19:
 179:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 180:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         default:
 181:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         {
 182:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             *p_buffer_length = 0;
 438              	 .loc 1 182 0
 439 00f8 7B68     	 ldr r3,[r7,#4]
 440 00fa 0022     	 movs r2,#0
 441 00fc 1A80     	 strh r2,[r3]
 183:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****             break;
 442              	 .loc 1 183 0
 443 00fe 00BF     	 nop
 444              	.L17:
 184:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****         }
 185:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     }
 186:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** 
 187:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c ****     return return_status;
 445              	 .loc 1 187 0
 446 0100 FB8A     	 ldrh r3,[r7,#22]
 188:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/pal/xmc4700\pal_os_datastore.c **** }
 447              	 .loc 1 188 0
 448 0102 1846     	 mov r0,r3
 449 0104 1837     	 adds r7,r7,#24
 450              	.LCFI8:
 451              	 .cfi_def_cfa_offset 8
 452 0106 BD46     	 mov sp,r7
 453              	.LCFI9:
 454              	 .cfi_def_cfa_register 13
 455              	 
 456 0108 80BD     	 pop {r7,pc}
 457              	.L21:
 458 010a 00BF     	 .align 2
 459              	.L20:
 460 010c 00000000 	 .word optiga_platform_binding_shared_secret
 461 0110 00000000 	 .word data_store_manage_context_buffer
 462 0114 00000000 	 .word data_store_app_context_buffer
 463              	 .cfi_endproc
 464              	.LFE1:
 466              	 .text
 467              	.Letext0:
 468              	 .file 2 "c:\\users\\yushev\\dave_4-4-2_32bit_2018-02-23\\dave-ide-4.4.2-32bit\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\machine\\_default_types.h"
 469              	 .file 3 "c:\\users\\yushev\\dave_4-4-2_32bit_2018-02-23\\dave-ide-4.4.2-32bit\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\stdint.h"
 470              	 .file 4 "C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/optiga/include/optiga/pal/pal.h"
DEFINED SYMBOLS
                            *ABS*:00000000 pal_os_datastore.c
                            *COM*:00000044 data_store_manage_context_buffer
                            *COM*:0000000a data_store_app_context_buffer
    {standard input}:26     .data.optiga_platform_binding_shared_secret:00000000 optiga_platform_binding_shared_secret
    {standard input}:23     .data.optiga_platform_binding_shared_secret:00000000 $d
    {standard input}:94     .text.pal_os_datastore_write:00000000 $t
    {standard input}:99     .text.pal_os_datastore_write:00000000 pal_os_datastore_write
    {standard input}:265    .text.pal_os_datastore_write:000000f0 $d
    {standard input}:272    .text.pal_os_datastore_read:00000000 $t
    {standard input}:277    .text.pal_os_datastore_read:00000000 pal_os_datastore_read
    {standard input}:460    .text.pal_os_datastore_read:0000010c $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
memcpy
