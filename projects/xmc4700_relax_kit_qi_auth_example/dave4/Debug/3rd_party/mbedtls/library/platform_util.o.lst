   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,6
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "platform_util.c"
  16              	 .text
  17              	.Ltext0:
  18              	 .cfi_sections .debug_frame
  19              	 .section .data.memset_func,"aw",%progbits
  20              	 .align 2
  23              	memset_func:
  24 0000 00000000 	 .word memset
  25              	 .section .text.mbedtls_platform_zeroize,"ax",%progbits
  26              	 .align 2
  27              	 .global mbedtls_platform_zeroize
  28              	 .thumb
  29              	 .thumb_func
  31              	mbedtls_platform_zeroize:
  32              	.LFB0:
  33              	 .file 1 "C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library/platform_util.c"
   1:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** /*
   2:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * Common and shared functions used by multiple modules in the Mbed TLS
   3:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * library.
   4:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
   5:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  Copyright (C) 2018, Arm Limited, All Rights Reserved
   6:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  SPDX-License-Identifier: Apache-2.0
   7:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
   8:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  Licensed under the Apache License, Version 2.0 (the "License"); you may
   9:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  not use this file except in compliance with the License.
  10:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  You may obtain a copy of the License at
  11:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
  12:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  http://www.apache.org/licenses/LICENSE-2.0
  13:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
  14:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  Unless required by applicable law or agreed to in writing, software
  15:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  16:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  See the License for the specific language governing permissions and
  18:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  limitations under the License.
  19:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
  20:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *  This file is part of Mbed TLS (https://tls.mbed.org)
  21:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  */
  22:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** 
  23:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** /*
  24:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * Ensure gmtime_r is available even with -std=c99; must be defined before
  25:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * config.h, which pulls in glibc's features.h. Harmless on other platforms.
  26:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  */
  27:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #if !defined(_POSIX_C_SOURCE)
  28:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #define _POSIX_C_SOURCE 200112L
  29:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #endif
  30:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** 
  31:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #if !defined(MBEDTLS_CONFIG_FILE)
  32:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #include "mbedtls/config.h"
  33:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #else
  34:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #include MBEDTLS_CONFIG_FILE
  35:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #endif
  36:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** 
  37:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #include "mbedtls/platform_util.h"
  38:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #include "mbedtls/platform.h"
  39:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #include "mbedtls/threading.h"
  40:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** 
  41:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #include <stddef.h>
  42:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #include <string.h>
  43:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** 
  44:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** #if !defined(MBEDTLS_PLATFORM_ZEROIZE_ALT)
  45:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** /*
  46:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * This implementation should never be optimized out by the compiler
  47:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
  48:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * This implementation for mbedtls_platform_zeroize() was inspired from Colin
  49:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * Percival's blog article at:
  50:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
  51:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * http://www.daemonology.net/blog/2014-09-04-how-to-zero-a-buffer.html
  52:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
  53:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * It uses a volatile function pointer to the standard memset(). Because the
  54:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * pointer is volatile the compiler expects it to change at
  55:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * any time and will not optimize out the call that could potentially perform
  56:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * other operations on the input buffer instead of just setting it to 0.
  57:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * Nevertheless, as pointed out by davidtgoldblatt on Hacker News
  58:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * (refer to http://www.daemonology.net/blog/2014-09-05-erratum.html for
  59:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * details), optimizations of the following form are still possible:
  60:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
  61:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * if( memset_func != memset )
  62:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *     memset_func( buf, 0, len );
  63:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  *
  64:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * Note that it is extremely difficult to guarantee that
  65:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * mbedtls_platform_zeroize() will not be optimized out by aggressive compilers
  66:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * in a portable way. For this reason, Mbed TLS also provides the configuration
  67:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * option MBEDTLS_PLATFORM_ZEROIZE_ALT, which allows users to configure
  68:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * mbedtls_platform_zeroize() to use a suitable implementation for their
  69:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  * platform and needs.
  70:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****  */
  71:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** static void * (* const volatile memset_func)( void *, int, size_t ) = memset;
  72:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** 
  73:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** void mbedtls_platform_zeroize( void *buf, size_t len )
  74:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** {
  34              	 .loc 1 74 0
  35              	 .cfi_startproc
  36              	 
  37              	 
  38 0000 80B5     	 push {r7,lr}
  39              	.LCFI0:
  40              	 .cfi_def_cfa_offset 8
  41              	 .cfi_offset 7,-8
  42              	 .cfi_offset 14,-4
  43 0002 82B0     	 sub sp,sp,#8
  44              	.LCFI1:
  45              	 .cfi_def_cfa_offset 16
  46 0004 00AF     	 add r7,sp,#0
  47              	.LCFI2:
  48              	 .cfi_def_cfa_register 7
  49 0006 7860     	 str r0,[r7,#4]
  50 0008 3960     	 str r1,[r7]
  75:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c ****     memset_func( buf, 0, len );
  51              	 .loc 1 75 0
  52 000a 044B     	 ldr r3,.L2
  53 000c 1B68     	 ldr r3,[r3]
  54 000e 7868     	 ldr r0,[r7,#4]
  55 0010 0021     	 movs r1,#0
  56 0012 3A68     	 ldr r2,[r7]
  57 0014 9847     	 blx r3
  76:C:/Users/Yushev/git/wpcqi-optiga-trust-charge/optiga/externals/mbedtls/library\platform_util.c **** }
  58              	 .loc 1 76 0
  59 0016 0837     	 adds r7,r7,#8
  60              	.LCFI3:
  61              	 .cfi_def_cfa_offset 8
  62 0018 BD46     	 mov sp,r7
  63              	.LCFI4:
  64              	 .cfi_def_cfa_register 13
  65              	 
  66 001a 80BD     	 pop {r7,pc}
  67              	.L3:
  68              	 .align 2
  69              	.L2:
  70 001c 00000000 	 .word memset_func
  71              	 .cfi_endproc
  72              	.LFE0:
  74              	 .text
  75              	.Letext0:
  76              	 .file 2 "c:\\users\\yushev\\dave_4-4-2_32bit_2018-02-23\\dave-ide-4.4.2-32bit\\eclipse\\arm-gcc-49\\lib\\gcc\\arm-none-eabi\\4.9.3\\include\\stddef.h"
DEFINED SYMBOLS
                            *ABS*:00000000 platform_util.c
    {standard input}:20     .data.memset_func:00000000 $d
    {standard input}:23     .data.memset_func:00000000 memset_func
    {standard input}:26     .text.mbedtls_platform_zeroize:00000000 $t
    {standard input}:31     .text.mbedtls_platform_zeroize:00000000 mbedtls_platform_zeroize
    {standard input}:70     .text.mbedtls_platform_zeroize:0000001c $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
memset
